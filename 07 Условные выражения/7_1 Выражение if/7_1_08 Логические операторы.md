Логические операторы

Иногда возникает необходимость нескольких проверок в условии. Логические операторы позволяют одновременно проверить не одно, а несколько условных выражений, образуя составное выражение. Логическими операторами являются:

&& - логическое "И" для проверки истинности всех выражений;
|| - логическое "ИЛИ" для проверки истинности хотя бы одного выражения;
! - логическое "НЕ" для выполнения отрицания.


Логическое "И"

Возьмём предыдущий пример и проверим, является ли num меньше 5 и больше 0. Так как нам нужно выполнение обоих выражений num < 5 и num > 0 одновременно, используем логическое "И":

fn main() {
    let num = 2.5;

    if num < 5.0 && num > 0.0 {
        println!("Число {num} меньше 5 и больше 0"); // "Число 2.5 меньше 5 и больше 0"
    } else {
        println!("Число {num} не меньше 5 и не больше 0");
    }
}

Составное выражение num < 5.0 && num > 0.0 имеет значение true, только если оба исходных выражения равны true. Если же левое выражение num < 5.0 равно false, то и всё составное выражение так­ же будет false, в таком случае Rust пропустит проверку правой части.

Поскольку && имеет меньший приоритет (См. приложение C), чем операции сравнения, нет необходи­мости использовать скобки. Это значит, что num < 5.0 && num > 0.0 интерпретируется как (num < 5.0) && (num > 0.0).


Логическое "ИЛИ"

Составное выражение с использованием логического "ИЛИ" (||)  является истинным, когда любое из подвыражений истинно:

fn main() {
    let age = 20;

    if age == 20 || age == 45 {
        println!("Вам уже {age}, пора менять паспорт"); // "Вам уже 20 пора менять паспорт"
    } else {
        println!("Вам пока не нужно менять паспорт");
    }
}

Первое подвыражение age == 20 вернет true а значит, всё выражение тоже истинно, поэтому дальнейшая проверка прекратиться, и будет выполнен блок if. if также был бы выполнен, если бы age был равен 45:

fn main() {
    let age = 45;

    if age == 20 || age == 45 {
        println!("Вам уже {age}, пора менять паспорт"); // "Вам уже 45 пора менять паспорт"
    } else {
        println!("Вам пока не нужно менять паспорт");
    }
}


Логическое "НЕ"

Логическое "НЕ" (!) используется для инвертирования логического значения. Если значение равно true, то !true равно false и наоборот:

fn main() {
    let b = false;
    
    // true
    if !b {
        println!("Значение b = {b}"); // "Значение b = false"
    }
}
Переменная b равна false. Однако при применении в условии отрацания false стало true, и программа выполнила ветку if.