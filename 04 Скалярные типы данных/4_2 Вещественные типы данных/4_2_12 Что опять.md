Что, опять ? 

Напишите программу, которая считывает два вещественных числа и выводит основные арифметические операции для них: сложение, вычитание, умножение, деление и нахождение остатка от деления. Для операций / и % результат вывести до 3 знаков, а  остальные без дробной части. Гарантируется, что второе число не равно 0!

Тестовые данные ✅

Sample Input 1:
2.0
4.0

Sample Output 1:
2 + (4) = 6
2 - (4) = -2
2 * (4) = 8
2 / (4) = 0.500
2 % (4) = 2.000

Sample Input 2:
40.0
20.0

Sample Output 2:
40 + (20) = 60
40 - (20) = 20
40 * (20) = 800
40 / (20) = 2.000
40 % (20) = 0.000

Напишите программу. Тестируется через stdin → stdout
Верно решили 284 учащихся
Из всех попыток 65% верных



use std::io;
use std::str::FromStr;
use std::fmt::Debug;
fn read_number<T: FromStr>() -> T where <T as FromStr>::Err: Debug {
    let mut user_input = String::new();
    io::stdin().read_line(&mut user_input).expect("Не удалось прочитать ввод");
    user_input.trim().parse().expect("Не удалось преобразовать в число")
}

fn main() {
    let operations: [(&str, &dyn Fn(f64, f64) -> f64); 5] = [
        ("+", &|x, y| x + y),
        ("-", &|x, y| x - y),
        ("*", &|x, y| x * y),
        ("/", &|x, y| x / y),
        ("%", &|x, y| x % y),
    ];

    let a: f64 = read_number();
    let b: f64 = read_number();

    for (op, func) in operations.iter() {
        print!("{} {} ({}) = ", a as i32, op, b as i32);
        if *op == "/" || *op == "%" {
            println!("{:.3}",func(a, b));
        } else {
            println!("{}",func(a, b) as i32);
        }
    }
}
