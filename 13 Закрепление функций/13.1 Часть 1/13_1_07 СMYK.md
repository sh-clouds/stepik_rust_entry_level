СMYK

На мониторах цвета формируются в формате Red-Green-Blue (RGB), где значения R, G и B варьируются в целочисленном диапазоне от 0 до 255. При печати изображений используется формат Cyan-Magenta-Yellow-Black (CMYK), где значения C, M, Y и K варьируются в диапазоне от 0.0 до 1.0.

В редакторе кода представлена неполная программа, которую необходимо доделать. Программа должна считать три неотрицательных (u8) целых числа R, G и B, а затем вывести (до 2 знаков) их в CMYK по следующим формулам:

White = max(Red/255, Green/, Blue/255);
Cyan = (White − Red/255) / White;
Magenta = (White − Green/255) / White;
Yellow = (White − Blue/255) / White;



Black=1−White.

Если все значения RGB равны 0, то CMY также будут равны 0, а K равно 1. Вычисления реализуйте в функции rgb_to_cmyk, а вывод в функции print_cmyk() в виде:

C: {}
M: {}
Y: {}
K: {}

                  
Тестовые данные ✅

Sample Input:
1
10
100

Sample Output:
C: 0.99
M: 0.90
Y: 0.00
K: 0.61

Напишите программу. Тестируется через stdin → stdout
Верно решили 73 учащихся
Из всех попыток 68% верных


use std::io;
use std::str::FromStr;

fn input<T: FromStr>() -> T 
where
    T::Err: std::fmt::Debug,
{
    let mut input = String::new();
    std::io::stdin()
        .read_line(&mut input)
        .expect("Failed to read input");
    input.trim().parse::<T>().expect("Failed to parse input")
}

fn main() {
    let mut r: i32 = input(); 
    let mut g: i32 = input(); 
    let mut b: i32 = input();
    
    let mut c: f64 = 0.00;  
    let mut m: f64 = 0.00; 
    let mut y: f64 = 0.00; 
    let mut k: f64 = 0.00; 

    (c, m, y, k) = rgb_to_cmyk(r, g, b);
    print_cmyk(c, m, y, k)  
}



fn rgb_to_cmyk(r: i32, g: i32, b: i32) -> (f64, f64, f64, f64) {
    let mut w: f64 = 0.00;
    let mut c: f64 = 0.00;  
    let mut m: f64 = 0.00; 
    let mut y: f64 = 0.00; 
    let mut k: f64 = 0.00; 
    
    if r == 0 && g == 0 && b == 0
    {
        c = 0.00;
        m = 0.00;
        y = 0.00;
        k = 1.00;     
    }
    else
    {
        w = (r as f64)/255.00;
        if w < (g as f64)/255.00
        {
            w = (g as f64)/255.00;
        }
        if w < (b as f64)/255.00
        {
            w = (b as f64)/255.00;
        }        
        
        c = (w - (r as f64)/255.00) / w;
        m = (w - (g as f64)/255.00) / w;
        y = (w - (b as f64)/255.00) / w; 
        k = 1.00 - w;
    }
    (c, m, y, k)
}

fn print_cmyk(c: f64, m: f64, y: f64, k: f64) {
    println!("C: {:.2}", c );
    println!("M: {:.2}", m );   
    println!("Y: {:.2}", y );       
    println!("K: {:.2}", k );             
}



