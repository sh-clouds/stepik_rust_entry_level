Переменная цикла

Вернёмся к строчке for i in 0..=10. В действительности повторения происходят за счёт прохождения переменной цикла i по диапазону 0..=10, который сгенерировал последовательность чисел: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 и 10. На первой итерации значение i будет равно 0, на второй 1 и т.д. до 10 включительно. Давайте посмотрим, как же выглядит прохождение переменной i по диапазону и выведем её значения:

fn main() {
    for i in 0..=10 {
        println!("{i}");
    }
}
Игровая площадка ⛱️

В общем случае i является итератором (тема следующих частей).



Имя переменной цикла может быть произвольным, но осмысленным. Здесь сокращение i происходит от index.
 

Изменим название i и убедимся, что это не повлияет на работу программы:

fn main() {
    for custom_var_name in 0..=10 {
        println!("{custom_var_name}");
    }
}

Как уже стало ясно, переменную можно использовать внутри цикла по своему усмотрению:

fn main() {
    for i in 0..=10 {
        println!("{}", i + 1);
    }
}

За пределами цикла она не доступна т.к. область видимости (тема 14 модуля) ограничена. Попытка получить к ней доступ за пределами цикла приведет к ошибке:


fn main() {
    for i in 0..=10 {

    }
    println!("{i}"); // ошибка
}

Если переменная цикла не используется, укажите символ нижнего подчеркивания _, чтобы компилятор не привязывал к ней значение:

fn main() {
    for _ in 1..11 {
        println!("Rust");
    }
}



Отрицательный диапазон

Изменив start на отрицательное значение, мы можем получить отрицательную последовательность:

fn main() {
    for i in -10..=0 {
        println!("{i}");
    }
}