Номерной валидатор

Для проверки действительности номера кредитной карты может быть использован следующий алгоритм:

Если сложить все цифры номера банковской карты;
Добавить к этой сумме каждую вторую цифру, начиная со второй справа;
Затем к получившейся сумме добавить количество цифр, превышающих четыре из банковского номера, также каждой второй, начиная со второй справа, то результат должен нацело делиться на 10.

Рассмотрим число 4012 8888 8888 1881:

Сумма всех цифр равна 89;
Сумма красных цифр равна 46;
Пять красных цифр больше четырех, поэтому результат равен 140. Т.к. 140 делится на 10, то номер карты действителен.

Напишите программу, которая считывает номер банковской карты 16-ти значное целое число (u64) и выводит, действительна ли данная карта.

Если карта валидна, вывести: Карта с номером ???? ???? ???? ???? действительна;
Иначе: Карты с номером ???? ???? ???? ???? не существует.

Тестовые данные ✅

Sample Input:
4012888888881881

Sample Output:
Карта с номером 4012 8888 8888 1881 действительна

Напишите программу. Тестируется через stdin → stdout
Верно решили 67 учащихся
Из всех попыток 38% верных


use std::io;
use std::str::FromStr;

fn input<T: FromStr>() -> T 
where
    T::Err: std::fmt::Debug,
{
    let mut input = String::new();
    std::io::stdin()
        .read_line(&mut input)
        .expect("Failed to read input");
    input.trim().parse::<T>().expect("Failed to parse input")
}

fn main() {
    let mut s: String = input(); 
    //s = "4012888888881881".to_string();
    //s = "5356883561711720".to_string();
    let mut a = [0; 16]; 
    let mut sum: i64 = 0; 
    let mut ind: usize = 0;     
   
    for i in s.chars() {
        a[ind] = i as i64 - 48; 
        sum += a[ind] as i64;
        ind += 1 as usize;
    }
    
    for i in (0..a.len()).step_by(2) {
        sum += a[i];
    }    
    
    for i in (0..a.len()).step_by(2) {
        if a[i] > 4
        {
            sum += 1;        
        }
    } 
    
    //s = a[0..=3] as &str + " " + a[4..=7] as &str + " " + a[8..=11] as &str + " " + a[12..=15] as &str;
    //s = a[0..=3].to_string;
    //s = vec!(s);
    //let s1: String = a[0..=3].into_iter().map(|i| i.to_string()).collect::<String>() + " ";
    //let s2: String = a[4..=7].into_iter().map(|i| i.to_string()).collect::<String>() + " ";
    //let s3: String = a[8..=11].into_iter().map(|i| i.to_string()).collect::<String>() + " ";
    //let s4: String = a[12..=15].into_iter().map(|i| i.to_string()).collect::<String>();
    //println!("Карта с номером {s1}{s2}{s3}{s4} действительна"

    let s1: String = { format!("{} {} {} {}", &s[0..4], &s[4..8], &s[8..12], &s[12..16]) };

    if sum % 10 == 0 { println!("Карта с номером {s1} действительна"); }
    else { println!("Карты с номером {s1} не существует"); }       
}

