Умный поезд

В рамках оптимизации транспортных услуг было принято решение маркировать пассажиров одним числом, который включал бы его номер и станцию.

Напишите программу, которая считывает количество пассажиров (u16) и столько же натуральных чисел (u32) представляющие пассажиров.

Значение пассажира содержит в себе его номер, первые 16 бит с конца, а оставшиеся 16 бит образуют номер станции, на которой выходит пассажир. Программа должна вывести уведомление пассажирам о просьбе покинуть вагон, как показано в примере.

Так, для четырех пассажиров 196609, 196610, 262147, 262148 выводом будет:

Поезд прибыл на Станцию № 1!
Поезд прибыл на Станцию № 2!
Поезд прибыл на Станцию № 3!
Просим на выход пассажиров с номером(ами):
1, 2
Поезд прибыл на Станцию № 4!
Просим на выход пассажиров с номером(ами):
3, 4


Самое большое количество железнодорожных станций в мире имеет Индия, насчитывая более 7,000 станций. Самый длинный же пассажирский поезд в мире сейчас находится в Швейцарии. Состоит из 100 вагонов, имеет длину 1910 метров и 4550 мест.

Тестовые данные ✅

Sample Input 1:
4
196609
196610
262147
262148

Sample Output 1:
Поезд прибыл на Станцию № 1!
Поезд прибыл на Станцию № 2!
Поезд прибыл на Станцию № 3!
Просим на выход пассажиров с номером(ами):
1, 2
Поезд прибыл на Станцию № 4!
Просим на выход пассажиров с номером(ами):
3, 4

Sample Input 2:
10
65537
65538
65539
65540
65541
65542
65543
65544
65545
65546

Sample Output 2:
Поезд прибыл на Станцию № 1!
Просим на выход пассажиров с номером(ами):
1, 2, 3, 4, 5, 6, 7, 8, 9, 10


Напишите программу. Тестируется через stdin → stdout
Верно решили 32 учащихся
Из всех попыток 39% верных



use std::io;
use std::str::FromStr;

fn input<T: FromStr>() -> T 
where
    T::Err: std::fmt::Debug,
{
    let mut input = String::new();
    std::io::stdin()
        .read_line(&mut input)
        .expect("Failed to read input");
    input.trim().parse::<T>().expect("Failed to parse input")
}

fn main() 
{     
    let mut arr = [(0_u32, 0_u32); 7001];
    //let mut begin: usize = 0;
    //let mut count: usize = 1;
    //let mut tmp: i32 = 0;
    //let mut big_count: usize = 1;    
    let mut n: u16 = input(); 
    let mut id: u32;
    let mut num_station : u32 = 1;
    let mut num_station_exit : u32;
    let mut num_pas : u32;
    let mut left_passagers: u16 = n; 
    let mut parr: usize = 0;
    let mut f1: bool = false;
    let mut f2: bool = false;
    
    'outer: for i in 0..n 
    {        
        id = input();
        num_station_exit = id >> 16;
        num_pas = (id as u16) as u32;    
        arr[i as usize] = (num_station_exit, num_pas); 
    }
    
    for i in 0..7000
    {
        if f2 == true { break }
        println!("Поезд прибыл на Станцию № {}!", i+1);
        f1 = false;     
        
        for j in 0..n as usize
        {            
            if parr > j as usize { continue; }
            if i+1 == arr[j].0 as usize
            {
              if f1 == false
              {
                  f1 = true;
                  println!("Просим на выход пассажиров с номером(ами):");
                  print!("{}", arr[j].1);                    
              }
              else
              {
                  print!(", {}", arr[j].1); 
              }
              parr += 1;    
            } 
            else
            {
                if f1 == true
                {
                    println!(""); 
                    break;
                }
            }
            if arr[parr].0 == 0
            {
                f2 = true;
                break; 
            }
        }         
    }    
    //println!("{arr:?}");     
}



