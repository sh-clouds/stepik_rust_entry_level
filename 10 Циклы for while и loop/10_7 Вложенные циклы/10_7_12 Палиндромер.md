Палиндромер

Напишите программу, которая считывает натуральное число (u64) и выводит, используя его цифры наибольший возможный числовой палиндром. Если палидром невозможно образовать, вывести: Число {} не образует палиндром.

Тестовые данные ✅

Sample Input 1:
110

Sample Output 1:
101

Sample Input 2:
10

Sample Output 2:
Число 10 не образует палиндром


Напишите программу. Тестируется через stdin → stdout


use std::io;

fn main() {
    let mut aparitii_cifre = [0; 10];
    let mut x: u64; 
    let mut result: i64 = 0;
    let mut digit: usize;
    let mut nr_cifre = 0;
    let mut odd_freq_digit = -1;
    let mut nr_odd_freq = 0;
    
    let mut input = String::new();
    io::stdin()
        .read_line(&mut input)
        .expect("Ошибка при чтении ввода");
    x = input.trim().parse().expect("Введите натуральное число");

    // Вычисляем кол-во цифр в x и кол-во повторений каждой
    while x > 0 {
        digit = (x % 10) as usize;
        aparitii_cifre[digit] += 1;
        nr_cifre += 1;
        x /= 10;
    }

    // Определяем кол-во цифр которые появляются нечетное число раз
    for i in 0..10 {
        if aparitii_cifre[i] % 2 == 1 {
            nr_odd_freq += 1;
        }
    }

    // Проверяем условия для формирования палиндрома
    if (nr_cifre % 2 == 0 && nr_odd_freq > 0) || (nr_cifre % 2 == 1 && nr_odd_freq != 1) {
        println!("Число {} не образует палиндром", input.trim());
        return;
    }

    // Строим палиндром
    for i in (0..=9).rev() {
        if aparitii_cifre[i] > 0 {
            let mut aparitie_cifra = aparitii_cifre[i];
            while aparitie_cifra > 1 {
                result = result * 10 + i as i64;
                aparitie_cifra -= 2;
            }
            if aparitii_cifre[i] % 2 == 1 {
                odd_freq_digit = i as i64;
            }
        }
    }

    if nr_odd_freq == 1 {
        result = result * 10 + odd_freq_digit;
    }

    for i in 0..=9 {
        if aparitii_cifre[i] > 0 {
            let mut aparitie_cifra = aparitii_cifre[i];
            while aparitie_cifra > 1 {
                result = result * 10 + i as i64;
                aparitie_cifra -= 2;
            }
        }
    }

    println!("{result}");
}
