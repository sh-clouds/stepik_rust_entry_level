Главная функция main

Наши первые шаги в изучении языка программирования Rust начнутся с понимания первой фундаментальной вещи. Каждый день мы запускаем на своих компьютерных устройствах необходимые нам программы, не вдаваясь в подробности. Такой комфорт работы во многом обеспечивается операционной системой (Windows, Linux, Mac OS и т.д), скрывающей технические детали.

Так вот, при запуске программы операционной системе необходимо знать точку входа, откуда начать выполнение кода (инструкций) программы. В языке Rust за это отвечает особенная (главная) функция, именуемая main, т.е. всё начинается с определения функции main. С функциями мы познакомимся в 12 модуле.

Правило наличия главной функции появилось задолго до Rust, а именно в языке C, на который, в свою очередь, повлияли B и, возможно, BCPL.

Функция main должна располагаться в исходном файле, который содержит исходный код программы. Исходные файлы Rust имеют расширение .rs. Для ознакомления с терминологией обратитесь, пожалуйста, к приложению E.

Написание первой программы
Давайте теперь применим изученный материал на практике и напишем свою первую программу. Начнём с определения главной функции main.

Для определения функций используется ключевое слово fn:

fn


Rust чувствителен к регистру символов. Это означает, что символы в верхнем и нижнем регистре считаются разными. Поэтому должен использоваться в точности тот же регистр, что в примерах.

Далее следует имя функции, то есть main:

fn main
Затем круглые скобки (), в которые прописывают передаваемые параметры (аргументы). Пока ничего передавать не будем:

fn main()
И остаётся указать тело функции, открывающей { и закрывающей } фигурной скобкой, сообщающие компилятору, где начинается и заканчивается тело функции соответственно. Это является обязательным для всех функций:

fn main() {} 
В данном случае телом является всё, что находится внутри данных фигурных скобок. Пока оставим тело пустым.

Давайте теперь соберём и запустим нашу программу. Для этого вставьте код в установленную IDE, либо ниже воспользуйтесь игровой площадкой (playground):

Игровая площадка ⛱️
Программа успешна отработала. О чём символизируют нам строки в окне консоли:

Вывод
Видим, что никаких ошибок консоль не вывела. Поздравляю! Наша первая программа на Rust готова! И хотя она ничего не делает что логично, так как тело функции main пустое, однако она служит примером, что каждая программа на Rust должна иметь данную функцию.